<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>A Maven Starter for Serious Java Projects | Bit Constants</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="A Maven Starter for Serious Java Projects" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="At 25 Constants, we’re constantly starting new Java projects all the time, and every time starts with the same process of putting together a bunch of POMs, fixing up the classpath (cause Jar hell is real), making sure all the libraries play nice, configuring logging… ad infinitum… It can be pretty time consuming. So… we decided to create a “living” starter project that we’ll be using to bootstrap our Java projects going forward. That means we’ll be maintaining it, upgrading the libraries, adding new modules, keeping the cobwebs off it, etc… AAAAND… we’ve decided to make it available so that we can spare YOU all that pain. And sure yea there’s other ones out there, but they’re usually either for a specific use case/framework integration, missing a lot of the extra common stuff that every project needs (logging?), or just plain outdated. What we wanted to do was not just have a barebones starter, but a serious starter with a bunch of the basics already in place along with examples of integrations with other common components like a database, caching, web etc… So… we loaded ours up with all the latest and greatest libraries/frameworks/modules/bells and whistles we could think of, and that we think might be included in most serious Java projects. Well… maybe not quite ALL of them just yet but it’s a work in progress. Here’s what we wanted to accomplish:" /> <meta property="og:description" content="At 25 Constants, we’re constantly starting new Java projects all the time, and every time starts with the same process of putting together a bunch of POMs, fixing up the classpath (cause Jar hell is real), making sure all the libraries play nice, configuring logging… ad infinitum… It can be pretty time consuming. So… we decided to create a “living” starter project that we’ll be using to bootstrap our Java projects going forward. That means we’ll be maintaining it, upgrading the libraries, adding new modules, keeping the cobwebs off it, etc… AAAAND… we’ve decided to make it available so that we can spare YOU all that pain. And sure yea there’s other ones out there, but they’re usually either for a specific use case/framework integration, missing a lot of the extra common stuff that every project needs (logging?), or just plain outdated. What we wanted to do was not just have a barebones starter, but a serious starter with a bunch of the basics already in place along with examples of integrations with other common components like a database, caching, web etc… So… we loaded ours up with all the latest and greatest libraries/frameworks/modules/bells and whistles we could think of, and that we think might be included in most serious Java projects. Well… maybe not quite ALL of them just yet but it’s a work in progress. Here’s what we wanted to accomplish:" /> <link rel="canonical" href="https://25constants.com/blog/starter/" /> <meta property="og:url" content="https://25constants.com/blog/starter/" /> <meta property="og:site_name" content="Bit Constants" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2020-01-05T00:00:00-05:00" /> <script type="application/ld+json"> {"url":"https://25constants.com/blog/starter/","headline":"A Maven Starter for Serious Java Projects","dateModified":"2020-01-05T00:00:00-05:00","datePublished":"2020-01-05T00:00:00-05:00","description":"At 25 Constants, we’re constantly starting new Java projects all the time, and every time starts with the same process of putting together a bunch of POMs, fixing up the classpath (cause Jar hell is real), making sure all the libraries play nice, configuring logging… ad infinitum… It can be pretty time consuming. So… we decided to create a “living” starter project that we’ll be using to bootstrap our Java projects going forward. That means we’ll be maintaining it, upgrading the libraries, adding new modules, keeping the cobwebs off it, etc… AAAAND… we’ve decided to make it available so that we can spare YOU all that pain. And sure yea there’s other ones out there, but they’re usually either for a specific use case/framework integration, missing a lot of the extra common stuff that every project needs (logging?), or just plain outdated. What we wanted to do was not just have a barebones starter, but a serious starter with a bunch of the basics already in place along with examples of integrations with other common components like a database, caching, web etc… So… we loaded ours up with all the latest and greatest libraries/frameworks/modules/bells and whistles we could think of, and that we think might be included in most serious Java projects. Well… maybe not quite ALL of them just yet but it’s a work in progress. Here’s what we wanted to accomplish:","mainEntityOfPage":{"@type":"WebPage","@id":"https://25constants.com/blog/starter/"},"@type":"BlogPosting","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> --> <link rel="stylesheet" href="/blog/css/main.css"> <link rel="alternate" type="application/rss+xml" title="Bit Constants" href="https://25constants.com/blog/feed.xml"> <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> </head> <body> <header class="site-header"> <nav class="navbar navbar-default"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="https://25constants.com">Bit Constants | The 25 Constants Engineering Blog</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse " id="bs-example-navbar-collapse-1"> <ul class="nav navbar-nav navbar-right"> <li><a href="/blog/about">About</a></li> <li><a href="/blog/contact/">Contact</a></li> </ul> </div><!-- /.navbar-collapse --> </div><!-- /.container-fluid --> </nav> </header> <div class="container"> <div class="wrapper"> <div class="row"> <div class="col-md-8"> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"> <h1 class="post-title" itemprop="name headline">A Maven Starter for Serious Java Projects</h1> <p class="post-meta"><time datetime="2020-01-05T00:00:00-05:00" itemprop="datePublished">Jan 5, 2020</time></p> </header> <div class="post-content" itemprop="articleBody"> <p>At <a href="https://25constants.com">25 Constants</a>, we’re constantly starting new Java projects all the time, and every time starts with the same process of putting together a bunch of POMs, fixing up the classpath (cause Jar hell is <a href="https://dzone.com/articles/what-is-jar-hell">real</a>), making sure all the libraries play nice, configuring logging… ad infinitum… It can be pretty time consuming. So… we decided to create a “living” starter project that we’ll be using to bootstrap our Java projects going forward. That means we’ll be maintaining it, upgrading the libraries, adding new modules, keeping the cobwebs off it, etc… AAAAND… we’ve decided to make it available so that we can spare YOU all that pain. And sure yea there’s <a href="https://start.spring.io/">other ones</a> <a href="https://medium.com/@brunosimioni/spring-boot-boilerplate-35f9cefa2aad">out there</a>, but they’re usually either for a specific use case/framework integration, missing a lot of the extra common stuff that every project needs (logging?), or just plain <a href="https://github.com/NothingButTheHoff/spring-maven-boilerplate">outdated</a>. What we wanted to do was not just have a barebones starter, but a serious starter with a bunch of the basics already in place along with examples of integrations with other common components like a database, caching, web etc… So… we loaded ours up with all the latest and greatest libraries/frameworks/modules/bells and whistles we could think of, and that we think might be included in most serious Java projects. Well… maybe not quite ALL of them just yet but it’s a work in progress. Here’s what we wanted to accomplish:</p> <ol> <li> <p>As stated, we wanted a starter project we could use as a template we could easily copy/paste modules from to get new Java projects off the ground quickly using the latest set of libraries for logging, testing, infrastructure, etc… all working together along with the latest version of Java (which happens to be 13 at the time of this writing).</p> </li> <li> <p>Some simple use cases and code exercising the various frameworks/libraries that are included, which any developer could use to get moving quickly whether that be a new developer coming on board or a developer that we pulled in from another project to help out.</p> </li> <li> <p>A repository to house mini example projects of whatever new tech was used for the latest project, as well as a place to keep our libraries up to date and verify interoperability. This also gives us the perfect playground to experiment with new features and libraries that come out.</p> </li> </ol> <p>So here’s what we came up with… (drumroll…) project Amoeba: <a href="https://github.com/25constants/amoeba">https://github.com/25constants/amoeba</a>.</p> <p>Let’s dig in shall we?</p> <h2 id="project-structure">Project Structure</h2> <p>So, the BOM (bill of materials) POM (bom pom… lol), or root POM if you will, contains a <code class="highlighter-rouge">&lt;properties&gt;</code> section, which we’ll use to manage all the versions of all the dependencies (among a few other things). It looks something like this:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
    &lt;java.version&gt;13&lt;/java.version&gt;
    &lt;maven.compiler.source&gt;13&lt;/maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;13&lt;/maven.compiler.target&gt;

    &lt;spring-boot.version&gt;2.2.2.RELEASE&lt;/spring-boot.version&gt;
    &lt;testcontainers.version&gt;1.8.3&lt;/testcontainers.version&gt;
    &lt;swagger2.version&gt;2.9.2&lt;/swagger2.version&gt;
    &lt;logstash-logback.version&gt;4.9&lt;/logstash-logback.version&gt;
    &lt;jackson.version&gt;2.10.1&lt;/jackson.version&gt;

...

&lt;/properties&gt;
</code></pre></div></div> <p>So far standard stuff. This is where you can change the version of Java that you’re using in the <code class="highlighter-rouge">&lt;java.version&gt;</code> and <code class="highlighter-rouge">&lt;maven.compiler.xxx&gt;</code> tags (1.8? Seriously? For a NEW project?? <a href="https://dev.to/awwsmm/20-reasons-to-move-on-from-java-8-1dio">Oof…</a>).</p> <p>As far as dependencies go, all the modules make heavy use of Spring Boot, so we import Spring Boot’s BOM in the dependencyManagement section (instead of going the parent POM route that almost all the other boilerplates and examples use):</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;!-- BOM for spring boot dependencies --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
            &lt;type&gt;pom&lt;/type&gt;
            &lt;version&gt;${spring-boot.version}&lt;/version&gt;
            &lt;scope&gt;import&lt;/scope&gt;
        &lt;/dependency&gt;

...

&lt;/dependencyManagement&gt;
</code></pre></div></div> <p>The dependencies contains a few libraries that we figure every project will need to pull in such as logging and test utilities. Speaking of logging… we decided to go with <a href="https://logging.apache.org/log4j/2.x/performance.html">log4j2,</a> and included the log4j2 binding for slf4j since sl4j is used liberally throughout so many libraries. We included a log4j2.xml config file.</p> <p>Finally, let me explain how we decided to handle all the various properties and configuration files. We had 2 requirements:</p> <ol> <li> <p>KISS. Properties and configs get hairy real quick but since this is just a starter and any derived project will have its own requirements anyway, it wouldn’t be worth the time to come up with some whiz-bang one-size-fits-all solution.</p> </li> <li> <p>We wanted to have all the configuration housed in the same place so we wouldn’t have to go around chasing config files in various resource directories.</p> </li> </ol> <p>So… all our config files can be found under the root /config directory, with each module having its own subdirectory, along with a special ‘filters’ directory that contains files used by the Maven resources plugin for filtering resources. The build works by doing the following:</p> <ol> <li> <p>For each module, copy the files directly under /config to the target directory. For now there’s just a default log4j2 config file that every module gets.</p> </li> <li> <p>For each module, copy the files from the subdirectory under /config with the same name.</p> </li> </ol> <p>This process uses the filters under the /config/filters directory, which contains a filter for each Maven profile; the default profile being ‘dev.’ Step 2 allows any common configuration file to get overridden by a module-specific one.</p> <h2 id="modules">Modules</h2> <p>Alright so… in addition to a “standard” module which contains standard Hibernate-based database access and a “web” module for a simple API, we’re releasing with these:</p> <ul> <li> <p><a href="https://redis.io/">Redis</a>: An “in-memory data structure store.” Caching anyone..?</p> </li> <li> <p><a href="http://cassandra.apache.org/">Cassandra</a>: Thanks Facebook.</p> </li> <li> <p><a href="https://graphql.org/learn/">GraphQL</a>: Thanks again Facebook. What next? An awesome JavaScript library for <a href="https://reactjs.org/">building user interfaces?</a>?</p> </li> <li> <p><a href="https://www.elastic.co/products/elastic-stack">Elasticsearch</a>: Cool search engine… NOT built by Facebook.</p> </li> </ul> <p>And we’ve got more coming! Let us know if there’s any in particular you’d like to see.</p> <h2 id="setup">Setup</h2> <p>One of the cool things about Amoeba is that getting it up and running is super easy thanks to Docker. (You DO use <a href="https://www.docker.com/">Docker</a> don’t you?) We’ve included a docker-compose.yml file to easily deploy all those different components the various modules rely on. Just fire them all up and you’re ready to build and deploy. Of course, you can go the old fashioned route and download/install everything yourself, it’ll just take a bit more setup time. Everything you need should be detailed in the <a href="https://github.com/25constants/amoeba/blob/master/README.md">README.</a></p> <h2 id="libraries">Libraries</h2> <p>Here’s a list of some of the libraries we use:</p> <ul> <li> <p><a href="https://projectlombok.org/">Lombok</a>: For reducing boilerplate. Apparently it’s making Java <a href="https://bytes.grubhub.com/lombok-makes-java-cool-again-171102bdcc52">cool again.</a></p> </li> <li> <p><a href="https://logging.apache.org/log4j/2.x/">Log4j2</a>: Our choice for logging as mentioned above.</p> </li> <li> <p><a href="https://spring.io/projects/spring-boot">Spring Boot</a>: Cause… duh.</p> </li> <li> <p><a href="https://github.com/DiUS/java-faker">Faker</a>: Java port of a pretty cool Ruby library to generate fake data that looks real. Even has Chuck Norris Facts.</p> </li> <li> <p><a href="https://www.testcontainers.org/">Testcontainers</a>: For Docker containers for testing.</p> </li> <li> <p><a href="https://junit.org/junit5/docs/current/user-guide/">Junit Jupiter</a>: Cause it sounds cooler than saying Junit 5.</p> </li> <li> <p><a href="https://swagger.io/tools/open-source/getting-started/">Swagger</a>: For the REST API stuff.</p> </li> </ul> <h2 id="github-link">Github Link</h2> <p>And finally… here’s the link again for those that just scrolled all the way to the bottom for this: <a href="https://github.com/25constants/amoeba">https://github.com/25constants/amoeba</a>. You know who you are.</p> <p>ENJOY! And hit us up with any comments/questions/suggestions.</p> </div> </article> <div class="row"> </div> <div class="row"> <ul class="pager"> </ul> </div> </div> <div class="col-md-4 mt20"> </div> </div> </div> </div> <footer> <div class="container"> <div class="row p20"> <div class="col-md-4 text-center mt25">All rights reserved by <a target="_blank" href="https://25constants.com">25 Constants</a></div> <div class="col-md-4 text-center mt25" > </div> <div class="col-md-4 text-center mt25"> <a target="_blank" href="http://github.com/25constants"><li class="social github"><i class="fa fa-github-square"></i></li></a> <a target="_blank" href="mailto:contact@25constants.com"><li class="social email"><i class="fa fa-envelope"></i></li></a> </div> </div> </div> </footer> <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script> <script src="/blog/js/bootstrap.min.js"></script> <!-- Google Analytics Tracking code --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-155283399-2', 'auto'); ga('send', 'pageview'); </script> </body> </html>
